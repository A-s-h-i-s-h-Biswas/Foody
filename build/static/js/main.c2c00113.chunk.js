(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{26:function(e,t,n){e.exports={signup_container:"SignUp_signup_container__KIo00",signup_form:"SignUp_signup_form__Up7rI",signup_form_items:"SignUp_signup_form_items__HENGm",signup:"SignUp_signup__2sRwH",action:"SignUp_action__3VEol"}},28:function(e,t,n){e.exports={backdrop:"Cart_backdrop__7TixE",main:"Cart_main__3-RWe",amount:"Cart_amount__359y9",modal__control:"Cart_modal__control__1XE0x",modal:"Cart_modal__ONhal",modal__title:"Cart_modal__title__2HpuK",modal__content:"Cart_modal__content__a0Z7B",action:"Cart_action__QpfMi",action_close:"Cart_action_close__30sjH",action_order:"Cart_action_order__8TkdZ",align_center:"Cart_align_center__9QquB",empty_logo:"Cart_empty_logo__lTBzR"}},29:function(e,t,n){e.exports={item_control:"MealItem_item_control__2MKl6",item_logo:"MealItem_item_logo__370AB",hide:"MealItem_hide__3Yn6R",item_info:"MealItem_item_info__wvEEx",item_info_comp:"MealItem_item_info_comp__3eNQj",item_info_align:"MealItem_item_info_align__29QIx",add_to_cart:"MealItem_add_to_cart__2ugiD"}},33:function(e,t,n){e.exports={header__control:"Header_header__control__xB3D9",header__component:"Header_header__component__1bUSt","header__comoponent-title":"Header_header__comoponent-title__2WDmj",header__banner:"Header_header__banner__3An0r",innerComp:"Header_innerComp__215W9"}},37:function(e,t,n){e.exports={cart_item:"CartItem_cart_item__Iefud",cart_food:"CartItem_cart_food__2fxJA",cart_food_logo:"CartItem_cart_food_logo__Jlau8",cart_food_info:"CartItem_cart_food_info__201-z",align:"CartItem_align__3SfVu",cart_button:"CartItem_cart_button__2JtBy",line_thro:"CartItem_line_thro__3279z"}},62:function(e,t,n){e.exports={summary:"BannerCode_summary__2gizT",removeForSmlDvd:"BannerCode_removeForSmlDvd__PrIsv"}},66:function(e,t,n){},71:function(e,t,n){e.exports={button:"Button_button__3p5G3"}},72:function(e,t,n){e.exports={container:"Cantainer_container__3rafV"}},73:function(e,t,n){e.exports={cart_button:"CartButton_cart_button__1IKbm"}},80:function(e,t,n){e.exports={backdrop:"Modal_backdrop__2Zo2a"}},83:function(e,t,n){e.exports={meals_container:"AvailableMeals_meals_container__1-vNL"}},85:function(e,t,n){e.exports={meals_control:"Meals_meals_control__12kGB"}},98:function(e,t,n){"use strict";n.r(t);var a=n(70),c=n.n(a),o=(n(66),n(12)),r=n(8),s=n.n(r),i=n(33),l=n.n(i),m=n(82),d=n.n(m),u=n(0),j=n(1),_=n(28),b=n.n(_),O=n(71),p=n.n(O),f=n(5),x=function(e){return Object(f.jsx)("div",{className:e.className,children:Object(f.jsx)("button",{className:"".concat(p.a.button," ").concat(e.className),type:"submit",onClick:e.onClick,children:e.name})})},h=n(72),g=n.n(h),v=function(e){return Object(f.jsx)("div",{className:"".concat(g.a.container," ").concat(e.className),children:e.children})},I=n(73),C=n.n(I),y=function(e){return Object(f.jsx)("button",{className:C.a.cart_button,onClick:e.onClick,children:e.children})},N=n(37),k=n.n(N),S=n(79),w=n.n(S),T=n(78),A=n.n(T),D=n(39),P=n.n(D),E=s.a.createContext({mealItems:[],noOfItems:0,totalPrice:0,addToCart:function(e){},removeFromCart:function(e){},removeAllFromCart:function(){},addAllToCart:function(){}}),F=function(e){var t=Object(r.useContext)(E);return Object(f.jsxs)("div",{className:k.a.cart_item,children:[Object(f.jsxs)("div",{className:k.a.cart_food,children:[Object(f.jsx)("div",{className:k.a.cart_food_logo,children:Object(f.jsx)("img",{src:e.img,alt:"Your Food"})}),Object(f.jsxs)("div",{className:k.a.cart_food_info,children:[Object(f.jsx)("h3",{children:e.name}),Object(f.jsxs)("p",{children:[Object(f.jsxs)("span",{className:k.a.align,children:[Object(f.jsx)(P.a,{}),e.price]}),Object(f.jsx)("span",{children:Object(f.jsx)(y,{label:"x1",children:"x".concat(e.quantity)})})]})]})]}),Object(f.jsxs)("div",{className:k.a.cart_button,children:[Object(f.jsx)("span",{children:Object(f.jsx)(y,{label:"-",onClick:function(){t.removeFromCart(e.id),e.onUpdateDatabase({mealItems:t.mealItems,noOfItems:t.noOfItems,totalPrice:t.totalPrice})},children:Object(f.jsx)(A.a,{})})}),Object(f.jsx)("span",{children:Object(f.jsx)(y,{label:"+",onClick:function(){var n={quantity:1,id:e.id,img:e.img,name:e.name,price:e.price};t.addToCart(n),e.onUpdateDatabase({mealItems:t.mealItems,noOfItems:t.noOfItems,totalPrice:t.totalPrice})},children:Object(f.jsx)(w.a,{color:"success"})})})]})]})},M=n.p+"static/media/empty.fd95bb53.jpg",H=n(80),q=n.n(H),L=function(e){return Object(f.jsx)("div",{className:"".concat(q.a.backdrop," ").concat(e.className),onClick:e.onClick,children:e.children})},B=n(48),R=n(81),z=n(23),U=Object(R.a)({apiKey:"AIzaSyD_9ZHhplmTKuSFN1jCLw5ueW6nPogP9Xc",authDomain:"foody-c872b.firebaseapp.com",projectId:"foody-c872b",storageBucket:"foody-c872b.appspot.com",messagingSenderId:"737571437522",appId:"1:737571437522:web:623fb65324e7dbdf55e60b"}),J=Object(z.e)(U),K=Object(B.b)(U),V=s.a.createContext({token:"",userId:"",login:function(e){},logout:function(){},isLogin:!1}),Q=V,W=function(e){var t=Object(r.useState)(),n=Object(o.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),i=Object(o.a)(s,2),l=i[0],m=i[1],d=Object(r.useState)(!1),u=Object(o.a)(d,2),j=u[0],_=u[1];Object(r.useEffect)((function(){localStorage.getItem("token")&&(_(!0),m(localStorage.getItem("userId")),c(localStorage.getItem("token")))}),[]);var b=function(e){e.type(K,e.email,e.password).then((function(e){var t=e.user;_(!0),m(t.uid),c(t.accessToken),localStorage.setItem("token",t.accessToken),localStorage.setItem("userId",t.uid)})).catch((function(e){var t=e.message;alert(t)}))};return Object(f.jsx)(V.Provider,{value:{userId:l,token:a,isLogin:j,login:function(e){"signup"===e.type?b({type:B.a,email:e.email,password:e.password}):b({type:B.c,email:e.email,password:e.password})},logout:function(){localStorage.removeItem("token"),localStorage.removeItem("userId"),_(!1),c(""),m("")}},children:e.children})},Z=function(e){var t,n=Object(r.useContext)(E),a=Object(r.useContext)(Q),c=n.mealItems,o=n.totalPrice.toFixed(2),s=Object(f.jsx)("h3",{children:"Order Now! It's Delicious\u2764"});0===n.noOfItems&&(s=Object(f.jsx)("h3",{children:" Oops! Empty Cart"}),t=Object(f.jsx)("div",{className:b.a.empty_logo,children:Object(f.jsx)("img",{src:M,alt:"Empty Content Img"})}));var i=a.userId,l=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.g)(Object(z.b)(J,"carts","".concat(i)),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.g)(Object(z.b)(J,"orders","".concat(i)),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:b.a.modal__control,children:[document.body.style.overflow="hidden",Object(f.jsx)(L,{onClick:e.modalCloseHandler}),Object(f.jsxs)(v,{className:b.a.modal,children:[Object(f.jsx)("header",{className:b.a.modal__title,children:0===n.noOfItems?t:s}),Object(f.jsx)("div",{className:b.a.main,children:c.map((function(e){return Object(f.jsx)(F,{id:e.id,name:e.name,price:e.price,img:e.img,quantity:e.quantity,onUpdateDatabase:l},e.id)}))}),n.noOfItems>0&&Object(f.jsxs)("div",{className:b.a.amount,children:[Object(f.jsx)("span",{children:"Total Amount"}),Object(f.jsxs)("span",{className:b.a.align_center,children:[Object(f.jsx)(P.a,{fontSize:"large"}),o]})]}),Object(f.jsxs)("footer",{className:b.a.action,children:[Object(f.jsx)(x,{className:b.a.action_close,onClick:e.modalCloseHandler,name:"Close",children:"Close"}),n.noOfItems>0&&Object(f.jsx)(x,{className:b.a.action_order,name:"Order",onClick:function(){e.modalCloseHandler(),l({mealItems:[],noOfItems:0,totalPrice:0}),m({mealItems:n.mealItems,totalPrice:n.totalPrice,timeStamp:Object(z.f)()}),n.removeAllFromCart(),alert("Order Successful")},children:"Order"})]})]})]})},G=n(116),Y=n(26),X=n.n(Y),$=function(e){var t=Object(r.useRef)(),n=Object(r.useRef)(),a=Object(r.useRef)(),c=Object(r.useState)(!0),s=Object(o.a)(c,2),i=s[0],l=s[1],m=Object(r.useContext)(Q),d=Object(f.jsx)("p",{style:{textAlign:"center",color:"red"},children:"Invalid password"});return Object(f.jsxs)("div",{children:[Object(f.jsx)(L,{onClick:e.modalCloseHandler}),document.body.style.overflow="hidden",Object(f.jsxs)(v,{className:X.a.signup_container,children:[Object(f.jsxs)("div",{className:X.a.signup,children:[Object(f.jsx)("h3",{children:"Sign up"}),Object(f.jsx)("p",{onClick:function(){e.onToggle("signin")},children:"or login to your account"})]}),Object(f.jsxs)("form",{className:X.a.signup_form,children:[Object(f.jsx)("div",{className:X.a.signup_form_items,children:Object(f.jsx)("input",{type:"text",placeholder:"ashish@"})}),Object(f.jsx)("div",{className:X.a.signup_form_items,children:Object(f.jsx)("input",{type:"email",ref:t,placeholder:"name@gmail.com",required:!0})}),Object(f.jsx)("div",{className:X.a.signup_form_items,children:Object(f.jsx)("input",{type:"password",ref:n,placeholder:"Set your password",required:!0})}),Object(f.jsx)("div",{className:X.a.signup_form_items,children:Object(f.jsx)("input",{type:"password",ref:a,placeholder:"Confirm your password",required:!0})}),Object(f.jsx)(x,{className:X.a.action,name:"Agree and Join",onClick:function(e){e.preventDefault();var c=t.current.value.trim(),o=n.current.value.trim();if(o===a.current.value.trim())return c.length>10&&c.includes("@gmail.com")&&o.length>=6?void m.login({type:"signup",email:c,password:o}):(l(!1),void(d=Object(f.jsx)("p",{style:{textAlign:"center",color:"red"},children:"Invalid email"})));l(!1)},style:{with:"100%"}}),!i&&d]})]})]})},ee=function(e){var t=Object(r.useRef)(),n=Object(r.useRef)(),a=Object(r.useState)(!0),c=Object(o.a)(a,2),s=c[0],i=c[1],l=Object(r.useContext)(Q),m=Object(f.jsx)("p",{style:{textAlign:"center",color:"red"},children:"Invalid input"});return Object(f.jsxs)("div",{children:[Object(f.jsx)(L,{onClick:e.modalCloseHandler}),Object(f.jsxs)(v,{className:X.a.signup_container,children:[Object(f.jsxs)("div",{className:X.a.signup,children:[Object(f.jsx)("h3",{children:"Sign in"}),Object(f.jsx)("p",{onClick:function(){e.onToggle("signup")},children:"or create an account"})]}),Object(f.jsxs)("form",{className:X.a.signup_form,children:[Object(f.jsx)("div",{className:X.a.signup_form_items,children:Object(f.jsx)("input",{type:"email",ref:t,placeholder:"name@gmail.com"})}),Object(f.jsx)("div",{className:X.a.signup_form_items,children:Object(f.jsx)("input",{type:"password",ref:n,placeholder:"Set your password"})}),Object(f.jsx)(x,{className:X.a.action,name:"Sign In",onClick:function(e){e.preventDefault();var a=t.current.value.trim(),c=n.current.value.trim();a.length>10&&a.includes("@gmail.com")&&c.length>=6?l.login({type:"signin",email:a,password:c}):i(!1)}}),!s&&m]})]})]})},te=function(e){var t=Object(r.useContext)(E),n=Object(r.useContext)(Q),a=Object(r.useState)(!1),c=Object(o.a)(a,2),s=c[0],i=c[1],m=Object(r.useState)(!1),u=Object(o.a)(m,2),j=u[0],_=u[1],b=Object(r.useState)(!1),O=Object(o.a)(b,2),p=O[0],x=O[1],h=function(e){"signup"===e?(x(!0),_(!1)):"signin"===e&&(x(!1),_(!0))},g=function(){i(!1),_(!1),x(!1),document.body.style.overflow="unset"};return Object(f.jsxs)(r.Fragment,{children:[Object(f.jsxs)("header",{className:l.a.header__control,children:[Object(f.jsx)("div",{className:l.a.header__component,children:Object(f.jsx)("h2",{className:l.a["header__component-title"],children:"Foody"})}),Object(f.jsxs)("div",{className:l.a.header__component,children:[s&&Object(f.jsx)(Z,{modalCloseHandler:g}),Object(f.jsxs)("span",{className:l.a.innerComp,onClick:function(){i(!0)},children:[Object(f.jsx)(G.a,{badgeContent:t.noOfItems,color:"success",fontSize:"small",children:Object(f.jsx)(d.a,{sx:{fontSize:30}})}),"Cart"]}),!n.isLogin&&Object(f.jsx)("span",{onClick:function(){_(!0)},className:l.a.innerComp,children:"Sign In"}),n.isLogin&&Object(f.jsx)("span",{onClick:function(){n.logout(),t.removeAllFromCart()},className:l.a.innerComp,children:"Log Out"}),!n.isLogin&&j&&Object(f.jsx)(ee,{onToggle:h,modalCloseHandler:g}),!n.isLogin&&p&&Object(f.jsx)($,{onToggle:h,modalCloseHandler:g})]})]}),Object(f.jsx)("div",{className:l.a.header__banner,children:Object(f.jsx)("img",{src:"https://b.zmtcdn.com/web_assets/81f3ff974d82520780078ba1cfbd453a1583259680.png",alt:"Foody banner"})})]})},ne=n(62),ae=n.n(ne),ce=function(){return Object(f.jsxs)("section",{className:ae.a.summary,children:[Object(f.jsx)("h2",{children:"Delicious Food, Delivered To You"}),Object(f.jsx)("p",{className:ae.a.removeForSmlDvd,children:"Choose your favorite meal from our broad selection of available meals and enjoy a delicious lunch or dinner at home."}),Object(f.jsx)("p",{children:"All our meals are cooked with high-quality ingredients, just-in-time and of course by experienced chefs!"})]})},oe=n(36),re=n(83),se=n.n(re),ie=n(29),le=n.n(ie),me=n(84),de=n.n(me),ue=function(e){var t=Object(r.useContext)(E),n=Object(r.useContext)(Q),a=Object(r.useState)(!0),c=Object(o.a)(a,2),s=c[0],i=c[1],l=n.userId,m=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.g)(Object(z.b)(J,"carts","".concat(l)),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(v,{className:le.a.item_control,children:[Object(f.jsx)("div",{onMouseOverCapture:function(e){i(!1)},className:"".concat(le.a.item_logo," ").concat(s?"":le.a.hide),children:Object(f.jsx)("span",{children:Object(f.jsx)("img",{src:e.img,alt:"Food img"})})}),Object(f.jsx)("div",{onClick:function(){if(n.isLogin){var a={quantity:1,id:e.id,img:e.img,name:e.name,price:e.price};t.addToCart(a),m({mealItems:t.mealItems,noOfItems:t.noOfItems,totalPrice:t.totalPrice})}else alert("Please Sign In to add meal !!!")},onMouseOutCapture:function(e){i(!0)},className:"".concat(le.a.item_logo," ").concat(s?le.a.hide:""),children:Object(f.jsx)("span",{children:Object(f.jsx)("img",{src:"https://static.vecteezy.com/system/resources/thumbnails/007/227/569/small/add-to-cart-icon-design-illustration-vector.jpg",alt:"Food img"})})}),Object(f.jsxs)("div",{className:le.a.item_info,children:[Object(f.jsxs)("div",{className:le.a.item_info_comp,children:[Object(f.jsx)("h3",{children:e.name}),Object(f.jsx)("p",{children:e.description})]}),Object(f.jsxs)("div",{className:le.a.item_info_comp,children:[Object(f.jsxs)("p",{className:le.a.item_info_align,children:[Object(f.jsx)(de.a,{color:"success"}),e.rating]}),Object(f.jsxs)("p",{className:le.a.item_info_align,children:[Object(f.jsx)(P.a,{}),e.price]})]})]})]})},je=function(e){var t=Object(r.useState)([]),n=Object(o.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!1),i=Object(o.a)(s,2),l=i[0],m=i[1],d=Object(f.jsx)("p",{style:{textAlign:"center",color:"red"},children:"Loading delicious meal items........"});return Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],m(!0),e.next=4,Object(z.d)(Object(z.a)(J,"meals"));case 4:e.sent.forEach((function(e){var n=Object(oe.a)({id:e.id},e.data());t.push(n)})),c(t),m(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(f.jsxs)(v,{className:se.a.meals_container,children:[l&&d,a.map((function(e){return Object(f.jsx)(ue,{id:e.id,name:e.name,img:e.img,price:e.price,rating:e.rating,description:e.description},e.id)}))]})},_e=n(85),be=n.n(_e),Oe=function(e){return Object(f.jsx)("div",{className:be.a.meals_control,children:Object(f.jsx)(je,{})})};var pe=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){a(!0);var e=setTimeout((function(){a(!1)}),1e3);return function(){clearTimeout(e)}}),[]),Object(f.jsxs)(r.Fragment,{children:[n&&Object(f.jsx)("section",{className:"div"}),Object(f.jsx)(te,{}),Object(f.jsx)(ce,{}),Object(f.jsx)(Oe,{})]})},fe=n(14),xe=function(e,t){if("ADD_ALL"===t.type)return t.value;if("ADD_ITEM"===t.type){var n,a=t.value,c=e.totalPrice+a.price*a.quantity,o=e.noOfItems+a.quantity,r=e.mealItems.findIndex((function(e){return e.id===a.id})),s=e.mealItems[r];return s?(a.quantity+=s.quantity,(n=Object(fe.a)(e.mealItems))[r]=a):n=e.mealItems.concat(a),{mealItems:n,noOfItems:o,totalPrice:c}}if("REMOVE_ITEM"===t.type){var i,l=e.mealItems.findIndex((function(e){return e.id===t.value})),m=e.mealItems[l];if(1===m.quantity)i=e.mealItems.filter((function(e){return e.id!==t.value}));else{var d=Object(oe.a)(Object(oe.a)({},m),{},{quantity:m.quantity-1});(i=Object(fe.a)(e.mealItems))[l]=d}return{mealItems:i,noOfItems:e.noOfItems-1,totalPrice:e.totalPrice-m.price}}return he},he={mealItems:[],noOfItems:0,totalPrice:0},ge=function(e){var t=Object(r.useContext)(Q),n=t.userId,a=t.isLogin,c=Object(r.useReducer)(xe,he),s=Object(o.a)(c,2),i=s[0],l=s[1],m=function(e){l({type:"ADD_ALL",value:e})};return Object(r.useEffect)((function(){var e=function(){var e=Object(j.a)(Object(u.a)().mark((function e(){var t,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(z.b)(J,"carts","".concat(n)),e.next=3,Object(z.c)(t);case 3:(a=e.sent).exists()?m(a.data()):console.log("No such document!");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a&&e()}),[n,a]),Object(f.jsx)(E.Provider,{value:{mealItems:i.mealItems,noOfItems:i.noOfItems,totalPrice:i.totalPrice,addToCart:function(e){l({type:"ADD_ITEM",value:e})},removeFromCart:function(e){l({type:"REMOVE_ITEM",value:e})},removeAllFromCart:function(){l({})},addAllToCart:m},children:e.children})};c.a.render(Object(f.jsx)(W,{children:Object(f.jsx)(ge,{children:Object(f.jsx)(pe,{})})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.c2c00113.chunk.js.map